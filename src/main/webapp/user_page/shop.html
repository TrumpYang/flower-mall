<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="meta description">
    <title></title>

    <!--=== Favicon ===-->
    <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon"/>

    <!-- Google fonts include -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,900%7CYesteryear"
          rel="stylesheet">

    <!-- All Vendor & plugins CSS include -->
    <link href="assets/css/vendor.css" rel="stylesheet">
    <!-- Main Style CSS -->
    <link href="assets/css/style.css" rel="stylesheet">


</head>

<body>

<!-- Start Header Area -->
<header class="header-area">
    <!-- main header start -->
    <div class="main-header d-none d-lg-block">


        <!-- header middle area start -->
        <div class="header-main-area sticky">
            <div class="container">
                <div class="row align-items-center position-relative">

                    <!-- start logo area -->
                    <div class="col-lg-3">
                        <div class="logo">
                            <a href="index.jsp">
                                <img src="assets/img/logo/logo.png" alt="">
                            </a>
                        </div>
                    </div>
                    <!-- start logo area -->

                    <!-- main menu area start -->
                    <div class="col-lg-6 position-static">
                        <div class="main-menu-area">
                            <div class="main-menu">
                                <!-- main menu navbar start -->
                                <nav class="desktop-menu">
                                    <ul>
                                        <li><a href="index.jsp">Home</a></li>
                                        <li><a href="shop.html">Shop</a></li>
                                        <li><a href="product-details.jsp">Product Details</a></li>
                                    </ul>
                                </nav>
                                <!-- main menu navbar end -->
                            </div>
                        </div>
                    </div>
                    <!-- main menu area end -->

                    <!-- mini cart area start -->
                    <div class="col-lg-3">
                        <div class="header-configure-wrapper">
                            <div class="header-configure-area">
                                <ul class="nav justify-content-end">
                                    <li>
                                        <a href="#" class="offcanvas-btn">
                                            <i class="lnr lnr-magnifier"></i>
                                        </a>
                                    </li>
                                    <li class="user-hover">
                                        <a href="#">
                                            <i class="lnr lnr-user"></i>
                                        </a>
                                        <ul class="dropdown-list">
                                            <li><a href="#">login</a></li>
                                            <li><a href="#">register</a></li>
                                            <li><a href="#">my account</a></li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="#" class="minicart-btn">
                                            <i class="lnr lnr-cart"></i>
                                            <div class="notification">2</div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- mini cart area end -->

                </div>
            </div>
        </div>
        <!-- header middle area end -->
    </div>
    <!-- main header start -->

    <!-- mobile header start -->
    <div class="mobile-header d-lg-none d-md-block sticky">
        <!--mobile header top start -->
        <div class="container">
            <div class="row align-items-center">
                <div class="col-12">
                    <div class="mobile-main-header">
                        <div class="mobile-logo">
                            <a href="index.jsp">
                                <img src="assets/img/logo/logo.png" alt="Brand Logo">
                            </a>
                        </div>
                        <div class="mobile-menu-toggler">
                            <div class="mini-cart-wrap">
                                <a href="#">
                                    <i class="lnr lnr-cart"></i>
                                </a>
                            </div>
                            <div class="mobile-menu-btn">
                                <div class="off-canvas-btn">
                                    <i class="lnr lnr-menu"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- mobile header top start -->
    </div>
    <!-- mobile header end -->
</header>
<!-- end Header Area -->

<!-- off-canvas menu start -->
<aside class="off-canvas-wrapper">
    <div class="off-canvas-overlay"></div>
    <div class="off-canvas-inner-content">
        <div class="btn-close-off-canvas">
            <i class="lnr lnr-cross"></i>
        </div>

        <div class="off-canvas-inner">
            <!-- search box start -->
            <div class="search-box-offcanvas">
                <form>
                    <input type="text" placeholder="Search Here...">
                    <button class="search-btn"><i class="lnr lnr-magnifier"></i></button>
                </form>
            </div>
            <!-- search box end -->

            <!-- mobile menu start -->
            <div class="mobile-navigation">

                <!-- mobile menu navigation start -->
                <nav>
                    <ul class="mobile-menu">
                        <li><a href="index.jsp">Home</a></li>
                        <li><a href="shop.html">Shop</a></li>
                        <li><a href="product-details.jsp">Product Details</a></li>
                    </ul>
                </nav>
                <!-- mobile menu navigation end -->
            </div>
            <!-- mobile menu end -->

            <div class="mobile-settings">
                <ul class="nav">
                    <li>
                        <div class="dropdown mobile-top-dropdown">
                            <a href="#" class="dropdown-toggle" id="currency" data-toggle="dropdown"
                               aria-haspopup="true" aria-expanded="false">
                                Currency
                                <i class="fa fa-angle-down"></i>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="currency">
                                <a class="dropdown-item" href="#">$ USD</a>
                                <a class="dropdown-item" href="#">$ EURO</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="dropdown mobile-top-dropdown">
                            <a href="#" class="dropdown-toggle" id="myaccount" data-toggle="dropdown"
                               aria-haspopup="true" aria-expanded="false">
                                My Account
                                <i class="fa fa-angle-down"></i>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="myaccount">
                                <a class="dropdown-item" href="#">my account</a>
                                <a class="dropdown-item" href="#"> login</a>
                                <a class="dropdown-item" href="#">register</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>

            <!-- offcanvas widget area start -->
            <div class="offcanvas-widget-area">
                <div class="off-canvas-contact-widget">
                    <ul>
                        <li><i class="fa fa-mobile"></i>
                            <a href="#">0123456789</a>
                        </li>
                        <li><i class="fa fa-envelope-o"></i>
                            <a href="#">info@yourdomain.com</a>
                        </li>
                    </ul>
                </div>
                <div class="off-canvas-social-widget">
                    <a href="#"><i class="fa fa-facebook"></i></a>
                    <a href="#"><i class="fa fa-twitter"></i></a>
                    <a href="#"><i class="fa fa-pinterest-p"></i></a>
                    <a href="#"><i class="fa fa-linkedin"></i></a>
                    <a href="#"><i class="fa fa-youtube-play"></i></a>
                </div>
            </div>
            <!-- offcanvas widget area end -->
        </div>
    </div>
</aside>
<!-- off-canvas menu end -->


<!-- main wrapper start -->
<main>
    <!-- breadcrumb area start -->
    <div class="breadcrumb-area common-bg">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb-wrap">
                        <nav aria-label="breadcrumb">
                            <h1>Sally Hambleton</h1>
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="index.jsp"><i class="fa fa-home"></i></a></li>
                                <li class="breadcrumb-item active" aria-current="page">shop</li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- breadcrumb area end -->

    <!-- page main wrapper start -->
    <div class="shop-main-wrapper section-space pb-0">
        <div class="container">
            <div class="row">


                <!-- shop main wrapper start -->
                <div class="col-lg-9 order-1 order-lg-2">
                    <div class="shop-product-wrapper">
                        <!-- shop product top wrap start -->
                        <div class="shop-top-bar">
                            <div class="row align-items-center">
                                <div class="col-lg-7 col-md-6 order-2 order-md-1">
                                    <div class="top-bar-left">
                                        <div class="product-view-mode">
                                            <a class="active" href="#" data-target="grid-view" data-toggle="tooltip"
                                               title="Grid View"><i class="fa fa-th"></i></a>
                                            <a href="#" data-target="list-view" data-toggle="tooltip" title="List View"><i
                                                    class="fa fa-list"></i></a>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- shop product top wrap start -->

                        <!-- product item list wrapper start -->
                        <div class="shop-product-wrap grid-view row mbn-40" id="shopContainer">

                            <!--                                研究这个 如何 进行渲染页面 详情请看ajax-->


                        </div>
                        <!-- product item list wrapper end -->

                        <!-- start pagination area -->
                        <div class="paginatoin-area text-center">
                            <input type="hidden" id="currentPage">
                            <input type="hidden" id="pageSize">
<!--                            绑定按钮事件 -->
                            <ul class="pagination-box" id="paginate">



                            </ul>
                        </div>
                        <!-- end pagination area -->
                    </div>
                </div>
                <!-- shop main wrapper end -->
            </div>
        </div>
    </div>
    <!-- page main wrapper end -->
</main>
<!-- main wrapper end -->

<!-- Start Footer Area Wrapper -->
<footer class="footer-wrapper">

    <!-- footer widget area start -->
    <div class="footer-widget-area">
        <div class="container">
            <div class="footer-widget-inner section-space">
                <div class="row mbn-30">
                    <!-- footer widget item start -->
                    <div class="col-lg-5 col-md-6 col-sm-8">
                        <div class="footer-widget-item mb-30">
                            <div class="footer-widget-title">
                                <h5>My account</h5>
                            </div>
                            <ul class="footer-widget-body accout-widget">
                                <li class="address">
                                    <em><i class="lnr lnr-map-marker"></i></em>
                                    184 Main Rd E, St Albans VIC 3021, Australia
                                </li>
                                <li class="email">
                                    <em><i class="lnr lnr-envelope"></i>Mail us: </em>
                                    <a href="mailto:test@yourdomain.com">yourmail@gmail.com</a>
                                </li>
                                <li class="phone">
                                    <em><i class="lnr lnr-phone-handset"></i> Phones: </em>
                                    <a href="tel:(012)800456789-987">(012) 800 456 789-987</a>
                                </li>
                            </ul>
                            <div class="payment-method">
                                <img src="assets/img/payment-pic.png" alt="payment method">
                            </div>
                        </div>
                    </div>
                    <!-- footer widget item end -->

                    <!-- footer widget item start -->
                    <div class="col-lg-2 col-md-6 col-sm-4">
                        <div class="footer-widget-item mb-30">
                            <div class="footer-widget-title">
                                <h5>categories</h5>
                            </div>
                            <ul class="footer-widget-body">
                                <li><a href="#">Ecommerce</a></li>
                                <li><a href="#">shopify</a></li>
                                <li><a href="#">Prestashop</a></li>
                                <li><a href="#">Opencart</a></li>
                                <li><a href="#">Magento</a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- footer widget item end -->

                    <!-- footer widget item start -->
                    <div class="col-lg-2 col-md-6 col-sm-6">
                        <div class="footer-widget-item mb-30">
                            <div class="footer-widget-title">
                                <h5>information</h5>
                            </div>
                            <ul class="footer-widget-body">
                                <li><a href="#">Home</a></li>
                                <li><a href="#">About Us</a></li>
                                <li><a href="#">Contact Us</a></li>
                                <li><a href="#">Exchanges</a></li>
                                <li><a href="#">Shipping</a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- footer widget item end -->

                    <!-- footer widget item start -->
                    <div class="col-lg-2 offset-lg-1 col-md-6 col-sm-6">
                        <div class="footer-widget-item mb-30">
                            <div class="footer-widget-title">
                                <h5>Quick Links</h5>
                            </div>
                            <ul class="footer-widget-body">
                                <li><a href="#">Store Location</a></li>
                                <li><a href="#">My Account</a></li>
                                <li><a href="#">Orders Tracking</a></li>
                                <li><a href="#">Size Guide</a></li>
                                <li><a href="#">Contact Us</a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- footer widget item end -->
                </div>
            </div>
        </div>
    </div>
    <!-- footer widget area end -->

    <!-- footer bottom area start -->
    <div class="footer-bottom-area">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 order-2 order-md-1">
                    <div class="copyright-text">
                        <p>Copyright &copy; 2019.Company name All rights reserved.<a target="_blank"
                                                                                     href="http://sc.chinaz.com/moban/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a>
                        </p>
                    </div>
                </div>
                <div class="col-md-6 order-1 order-md-2">
                    <div class="footer-social-link">
                        <a href="#"><i class="fa fa-twitter"></i></a>
                        <a href="#"><i class="fa fa-facebook"></i></a>
                        <a href="#"><i class="fa fa-linkedin"></i></a>
                        <a href="#"><i class="fa fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- footer bottom area end -->

</footer>
<!-- End Footer Area Wrapper -->

<!-- Quick view modal start -->
<div class="modal" id="quick_view">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- product details inner end -->
                <div class="product-details-inner">
                    <div class="row">
                        <div class="col-lg-5 col-md-5">
                            <div class="product-large-slider">
                                <div class="pro-large-img">
                                    <img src="assets/img/product/product-details-img1.jpg" alt="product-details"/>
                                </div>
                                <div class="pro-large-img">
                                    <img src="assets/img/product/product-details-img2.jpg" alt="product-details"/>
                                </div>
                                <div class="pro-large-img">
                                    <img src="assets/img/product/product-details-img3.jpg" alt="product-details"/>
                                </div>
                                <div class="pro-large-img">
                                    <img src="assets/img/product/product-details-img4.jpg" alt="product-details"/>
                                </div>
                            </div>
                            <div class="pro-nav slick-row-10 slick-arrow-style">
                                <div class="pro-nav-thumb">
                                    <img src="assets/img/product/product-details-img1.jpg" alt="product-details"/>
                                </div>
                                <div class="pro-nav-thumb">
                                    <img src="assets/img/product/product-details-img2.jpg" alt="product-details"/>
                                </div>
                                <div class="pro-nav-thumb">
                                    <img src="assets/img/product/product-details-img3.jpg" alt="product-details"/>
                                </div>
                                <div class="pro-nav-thumb">
                                    <img src="assets/img/product/product-details-img4.jpg" alt="product-details"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-7 col-md-7">
                            <div class="product-details-des quick-details">
                                <h3 class="product-name">Orchid flower white stick</h3>
                                <div class="ratings d-flex">
                                    <span><i class="lnr lnr-star"></i></span>
                                    <span><i class="lnr lnr-star"></i></span>
                                    <span><i class="lnr lnr-star"></i></span>
                                    <span><i class="lnr lnr-star"></i></span>
                                    <span><i class="lnr lnr-star"></i></span>
                                    <div class="pro-review">
                                        <span>1 Reviews</span>
                                    </div>
                                </div>
                                <div class="price-box">
                                    <span class="price-regular">$70.00</span>
                                    <span class="price-old"><del>$90.00</del></span>
                                </div>
                                <h5 class="offer-text"><strong>Hurry up</strong>! offer ends in:</h5>
                                <div class="product-countdown" data-countdown="2019/08/25"></div>
                                <div class="availability">
                                    <i class="fa fa-check-circle"></i>
                                    <span>200 in stock</span>
                                </div>
                                <p class="pro-desc">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
                                    nonumy
                                    eirmod tempor invidunt ut labore et dolore magna aliquyam erat.</p>
                                <div class="quantity-cart-box d-flex align-items-center">
                                    <h5>qty:</h5>
                                    <div class="quantity">
                                        <div class="pro-qty"><input type="text" value="1"></div>
                                    </div>
                                    <div class="action_link">
                                        <a class="btn btn-cart2" href="#">Add to cart</a>
                                    </div>
                                </div>
                                <div class="useful-links">
                                    <a href="#" data-toggle="tooltip" title="Compare"><i
                                            class="lnr lnr-sync"></i>compare</a>
                                    <a href="#" data-toggle="tooltip" title="Wishlist"><i
                                            class="lnr lnr-heart"></i>wishlist</a>
                                </div>
                                <div class="like-icon">
                                    <a class="facebook" href="#"><i class="fa fa-facebook"></i>like</a>
                                    <a class="twitter" href="#"><i class="fa fa-twitter"></i>tweet</a>
                                    <a class="pinterest" href="#"><i class="fa fa-pinterest"></i>save</a>
                                    <a class="google" href="#"><i class="fa fa-google-plus"></i>share</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- product details inner end -->
            </div>
        </div>
    </div>
</div>
<!-- Quick view modal end -->

<!-- offcanvas search form start -->
<div class="offcanvas-search-wrapper">
    <div class="offcanvas-search-inner">
        <div class="offcanvas-close">
            <i class="lnr lnr-cross"></i>
        </div>
        <div class="container">
            <div class="offcanvas-search-box">
                <form class="d-flex bdr-bottom w-100">
                    <input type="text" placeholder="输入鲜花名字" id="search_input">
                    <button class="search-btn"><i class="lnr lnr-magnifier"></i>search</button>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- offcanvas search form end -->

<!-- offcanvas mini cart start -->
<div class="offcanvas-minicart-wrapper">
    <div class="minicart-inner">
        <div class="offcanvas-overlay"></div>
        <div class="minicart-inner-content">
            <div class="minicart-close">
                <i class="lnr lnr-cross"></i>
            </div>
            <div class="minicart-content-box">

                <div class="minicart-item-wrapper">
                    <ul id="cartContainer">
                        <!--   已经移交 ajax 动态渲染-->
                    </ul>
                </div>

                <div class="minicart-pricing-box">
                    <ul id="priceContainer">
<!--                        已经移交 ajax 动态渲染-->
                    </ul>
                </div>

                <div class="minicart-button">
                    <a href="#"><i class="fa fa-shopping-cart"></i> view cart</a>
                    <a href="order.jsp"><i class="fa fa-share"></i> checkout</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- offcanvas mini cart end -->

<!-- Scroll to top start -->
<div class="scroll-top not-visible">
    <i class="fa fa-angle-up"></i>
</div>
<!-- Scroll to Top End -->

<!-- All vendor & plugins & active js include here -->
<!--All Vendor Js -->
<script src="assets/js/vendor.js"></script>
<!-- Active Js -->
<script src="assets/js/active.js"></script>
<script src="assets/js/jquery.min.js"></script>

<script>


    function ajaxShowCart(userName){

        if(userName==""){

            $('div.minicart-content-box').empty()

            $('div.minicart-content-box').append("<img src=\"assets/img/tip/tip.jpg\" alt=\"Smiley face\" width=\"300\" height=\"300\">")

            $('div.minicart-content-box').append(" <label >您还未登陆，购物车空空如也</label>")
        }
        else{
            //根据用户名请求所有信息

            $.ajax({
                url: "http://localhost:8080/FlowerMall_war_exploded/cart/list",
                type: "POST",
                // 当前页数第一页 每次显示8条数据
                data: {"userName": userName},
                success: function (data) {
                    console.log(data)

                    $.each(data, function (i, result) {
                        console.log(result['pic'])
                        var cartHtml="<li class=\"minicart-item\">\n" +
                            "                            <div class=\"minicart-thumb\">\n" +
                            "                                <a href=\"index.jsp\">\n" +
                            "                                    <img src= " +result['pic']+" alt=\"product\">\n" +
                            "                                </a>\n" +
                            "                            </div>\n" +
                            "                            <div class=\"minicart-content\">\n" +
                            "                                <h3 class=\"product-name\">\n" +
                            "                                    <a href=\"product-details.jsp\">" +result['productName']+ "</a>\n" +
                            "                                </h3>\n" +
                            "                                <p>\n" +
                            "                                    <span class=\"cart-quantity\">" +result['number']+ " <strong>&times;</strong></span>\n" +
                            "                                    <span class=\"cart-price\"> ￥" +result['price']+ "</span>\n" +
                            "                                </p>\n" +
                            "                            </div>\n" +
                            "                            <button class=\"minicart-remove\"><i class=\"lnr lnr-cross\"></i></button>\n" +
                            "                        </li>"

                        $('#cartContainer').append(cartHtml)

                        var priceBox= " <li>\n" +
                            "                            <span>商品原价</span>\n" +
                            "                            <span><strong> ￥" +result['totalPrice']+"</strong></span>\n" +
                            "                        </li>\n" +
                            "                        <li>\n" +
                            "                            <span>运费包邮</span>\n" +
                            "                            <span><strong>" +"￥ 0.0"+ "</strong></span>\n" +
                            "                        </li>\n" +
                            "                        <li>\n" +
                            "                            <span> 关税</span>\n" +
                            "                            <span><strong>$ 0.0</strong></span>\n" +
                            "                        </li>\n" +
                            "                        <li class=\"total\">\n" +
                            "                            <span>total</span>\n" +
                            "                            <span><strong>" +result['totalPrice']+ "元</strong></span>\n" +
                            "                        </li>"
                        $('#priceContainer').append(priceBox)
                    });
                }
            })






        }



    }


    function ajaxShow(current, size) {
        //页面加载去请求ajax
        $.ajax({
            url: "http://localhost:8080/FlowerMall_war_exploded/flower/findAll",
            type: "POST",
            // 当前页数第一页 每次显示8条数据
            data: {"current": current, "size": size},
            success: function (data) {
                console.log(data)
                var res = data.records
                var pages  =data.pages
                $("#currentPage").text(data.current)
                $("#pageSize").text(data.size)
                //循环加载数据
                $.each(res, function (i, result) {

                    var product = "   <div class=\"col-md-4 col-sm-6\">\n" +
                        "                                    <!-- product grid start -->\n" +
                        "                                    <div class=\"product-item\">\n" +
                        "                                        <figure class=\"product-thumb\">\n" +
                        "                            <a href=\"http://localhost:8080/FlowerMall_war_exploded/flower/queryById?id=" +result['id']+ "\"" +">"+
                        "                                                <img class=\"pri-img\" src=\"" +result['pic']+ "\" alt=\"product\">\n" +
                        "                                            </a>\n" +
                        "                                            <div class=\"product-badge\">\n" +
                        "                                                <div class=\"product-label new\">\n" +
                        "                                                    <span>new</span>\n" +
                        "                                                </div>\n" +
                        "                                                <div class=\"product-label discount\">\n" +
                        "                                                    <span>10%</span>\n" +
                        "                                                </div>\n" +
                        "                                            </div>\n" +
                        "                                        </figure>\n" +
                        "                                        <div class=\"product-caption\">\n" +
                        "                                            <p class=\"product-name\">\n" +
                        "                            <a href=\"http://localhost:8080/FlowerMall_war_exploded/flower/queryById?id=" +result['id']+ "\"" +">"+result['flowerName']+ "</a>\n" +
                        "                                            </p>\n" +
                        "                                            <div class=\"price-box\">\n" +
                        "                                                <span class=\"price-regular\">"+"促销价： ￥"+ +result['price']+ "</span>\n" +
                        "                                            </div>\n" +
                        "                                        </div>\n" +
                        "                                    </div>\n" +
                        "                                    <!-- product grid end -->\n" +
                        "                                    <!-- product list item begin -->\n" +
                        "                                    <div class=\"product-list-item\">\n" +
                        "                                        <figure class=\"product-thumb\">\n" +
                        "                            <a href=\"http://localhost:8080/FlowerMall_war_exploded/flower/queryById?id=" +result['id']+ "\"" +">"+
                        "                                                <img class=\"pri-img\" src=\"" +result['pic']+ "\" alt=\"product\">\n" +
                        "                                            </a>\n" +
                        "                                            <div class=\"product-badge\">\n" +
                        "                                                <div class=\"product-label new\">\n" +
                        "                                                    <span>new</span>\n" +
                        "                                                </div>\n" +
                        "                                                <div class=\"product-label discount\">\n" +
                        "                                                    <span>10%</span>\n" +
                        "                                                </div>\n" +
                        "                                            </div>\n" +
                        "                                        </figure>\n" +
                        "                                        <div class=\"product-content-list\">\n" +
                        "                                            <h5 class=\"product-name\"><a href=\"product-details.jsp\">" +result['flowerName']+"</a></h5>\n" +
                        "                                            <div class=\"price-box\">\n" +
                        "                                                <span class=\"price-regular\">" +"促销价： ￥"+ result['price']+ "</span>\n" +
                        "                                            </div>\n" +
                        "                                            <p> " +"包装材料："+result['material']+
                        "                                            </p>\n" +
                        "                                            <div class=\"button-group-list\">\n" +
                        "                                                <a class=\"btn-big\" href=\"#\" data-toggle=\"tooltip\" title=\"Add to Cart\"><i class=\"lnr lnr-cart\"></i>Add to Cart</a>\n" +
                        "                                                <a href=\"#\" data-toggle=\"modal\" data-target=\"#quick_view\"><span data-toggle=\"tooltip\"  title=\"Quick View\"><i class=\"lnr lnr-magnifier\"></i></span></a>\n" +
                        "                                                <a href=\"#\" data-toggle=\"tooltip\" title=\"Add to wishlist\"><i class=\"lnr lnr-heart\"></i></a>\n" +
                        "                                            </div>\n" +
                        "                                        </div>\n" +
                        "                                    </div>\n" +
                        "                                    <!-- product list item end -->\n" +
                        "                                </div>"

                    $('#shopContainer').append(product);


                });


            //    循环加载页码 先清除

                $('ul.pagination-box').empty()


                $('ul.pagination-box').append(" <li><button class=\"previous\" >" +"上"+ "</button></li>");
                var li_item
                //    循环加载页码
                for (var count = 1; count <= pages; count++) {
                    li_item = "<li>" + "<button>" + count + "</button></li>"
                    $('ul.pagination-box').append(li_item);
                }
                $('ul.pagination-box').append("<li><button class=\"next\">" +"下"+
                    "</button></li>");
            }

        })


    }

    function ajaxSearch(name,current,size){
        //页面加载去请求ajax
        $.ajax({
            url: "http://localhost:8080/FlowerMall_war_exploded/flower/search",
            type: "POST",
            // 当前页数第一页 每次显示三条数据 三个参数 搜索的名字 返回的数据条数
            data: {"name":name,"current": current, "size": size},
            success: function (data) {
                $('#shopContainer').empty()
                var res = data.records
                //循环加载数据




                $.each(res, function (i, result) {
                    var addHtml="<!-- product single item start -->\n" +
                        "                    <div class=\"col-lg-3 col-md-4 col-sm-6\">\n" +
                        "                        <div class=\"product-item mt-40\">\n" +
                        "                            <figure class=\"product-thumb\">\n" +
                        "                            <a href=\"http://localhost:8080/FlowerMall_war_exploded/flower/queryById?id=" +result['id']+ "\"" +">"+
                        "                                    <img class=\"pri-img\" src=" +result['pic']+ " alt=\"product\">\n" +
                        "                                </a>\n" +
                        "                                <div class=\"product-badge\">\n" +
                        "                                    <div class=\"product-label new\">\n" +
                        "                                        <span>new</span>\n" +
                        "                                    </div>\n" +
                        "                                    <div class=\"product-label discount\">\n" +
                        "                                        <span>10%</span>\n" +
                        "                                    </div>\n" +
                        "                                </div>\n" +
                        "                                <div class=\"button-group\">\n" +
                        "                                    <a href=\"#\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Add to wishlist\"><i class=\"lnr lnr-heart\"></i></a>\n" +
                        "                                    <a href=\"#\" data-toggle=\"modal\" data-target=\"#quick_view\"><span data-toggle=\"tooltip\" data-placement=\"left\" title=\"Quick View\"><i class=\"lnr lnr-magnifier\"></i></span></a>\n" +
                        "                                    <a href=\"#\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Add to Cart\"><i class=\"lnr lnr-cart\"></i></a>\n" +
                        "                                </div>\n" +
                        "                            </figure>\n" +
                        "                            <div class=\"product-caption\">\n" +
                        "                                <p class=\"product-name\">\n" +
                        "\n" +
                        "<!--                                    加一个隐藏id 属性 方便跳转到 详情页-->\n" +
                        "  <input type=\"hidden\" id=\"flower_id\">"+
                        "                            <a href=\"http://localhost:8080/FlowerMall_war_exploded/flower/queryById?id=" +result['id']+ "\"" +">"+
                        "</a>\n" +                          result['flowerName']+
                        "                                </p>\n" +
                        "                                <div class=\"price-box\">\n" +
                        "                                    <span class=\"price-regular\">$" +
                        result['price']+

                        "</span>\n" +
                        "\n" +
                        "<!--                                    可以动态修改值-->\n" +
                        "                                    <span class=\"price-old\"><del>$70.00</del></span>\n" +
                        "                                </div>\n" +
                        "                            </div>\n" +
                        "                        </div>\n" +
                        "                    </div>\n" +
                        "                    <!-- product single item end -->"

                    $('#shopContainer').append(addHtml);

                });

            }, dataType: "json"
        });
    }


    $(document)
        .ready(
            function () {

                ajaxShowCart("root")
                ajaxShow(1, 3)
                //搜索按钮
                $(".search-btn").on("click", function () {
                    var text = $("#search_input").val()
                    alert(text)
                    ajaxSearch(text, 1, 4)
                })
            //    页码按钮
                // 页码按钮触发事件
                $("#paginate").on("click", ":button", function (event) {

                    var button_name = event.currentTarget.innerHTML
                    console.log(button_name)
                    var pageNumber = parseInt($("#currentPage").text())
                    var pageSize = parseInt($("#pageSize").text())
                    console.log(pageNumber)

                    if (button_name == "上") {

                        if (pageNumber <= 1) {
                            alert("已经是第一页")
                        } else pageNumber = parseInt(pageNumber) - 1;

                    } else if (button_name == "下") {
                        if (parseInt(pageNumber) > parseInt(pageSize)) {
                            alert("已经是最后一页")
                        } else pageNumber = parseInt(pageNumber) + 1;
                    } else {
                        pageNumber = parseInt(button_name)
                    }

                    //    得到页码开始请求数据 这里要清空信息
                    $('#shopContainer').empty()
                    ajaxShow(pageNumber, 3)


                })
            });
</script>


</body>

</html>
